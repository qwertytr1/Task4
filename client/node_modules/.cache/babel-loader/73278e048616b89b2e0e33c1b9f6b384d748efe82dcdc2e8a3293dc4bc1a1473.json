{"ast":null,"code":"import React,{useCallback,useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import fetchUsersData from'../../utils/fetchUsers';import{useAuth}from'../AuthProvider/AuthProvider';import'./index.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Home=()=>{const[users,setUsers]=useState([]);const[selectedIds,setSelectedIds]=useState([]);const[selectAll,setSelectAll]=useState(false);const[selectedUsersData,setSelectedUsersData]=useState([]);// Состояние для выбранных пользователей\nconst navigate=useNavigate();const{logout}=useAuth();const[userToken,setUserToken]=useState(null);const[dataUser,setDataUser]=useState(null);useEffect(()=>{const token=localStorage.getItem('authToken');const userData=localStorage.getItem('userData');if(token){setUserToken(token);}if(userData){setDataUser(JSON.parse(userData));}},[]);const fetchUsers=useCallback(async()=>{if(!userToken)return;try{const data=await fetchUsersData(userToken);const formattedData=data.map(user=>{let lastLogin='Never';if(user.lastLogin){const date=new Date(user.lastLogin);if(!Number.isNaN(date.getTime())){lastLogin=date.toLocaleString();}}return{...user,lastLogin};});setUsers(formattedData);}catch(error){console.error(error);}},[userToken]);useEffect(()=>{if(userToken){fetchUsers();}},[fetchUsers,userToken]);const handleLogout=useCallback(()=>{logout();localStorage.removeItem('userData');navigate('/login');},[logout,navigate]);const handleSelectAll=useCallback(()=>{if(selectAll){setSelectedIds([]);}else{setSelectedIds(users.map(u=>u.id));}setSelectAll(!selectAll);},[selectAll,users]);const handleCheckboxChange=useCallback(id=>{const updatedSelectedIds=selectedIds.includes(id)?selectedIds.filter(userId=>userId!==id):[...selectedIds,id];setSelectedIds(updatedSelectedIds);setSelectAll(updatedSelectedIds.length===users.length);const updatedSelectedUsersData=updatedSelectedIds.map(userId=>users.find(user=>user.id===userId)).filter(user=>user!==undefined);setSelectedUsersData(updatedSelectedUsersData);},[selectedIds,users]);const handleBlockUsers=useCallback(async()=>{const userEmail=dataUser===null||dataUser===void 0?void 0:dataUser.email;if(!userEmail){return;}try{const emailsToBlock=selectedUsersData.map(user=>user.email);if(emailsToBlock.includes(userEmail)){const response=await fetch('http://localhost:8081/users/block',{method:'POST',headers:{'Content-Type':'application/json',Authorization:`Bearer ${userToken}`},body:JSON.stringify({emails:emailsToBlock})});if(!response.ok){throw new Error('Failed to block users');}const result=await response.json();alert(result.message);setUsers(prevUsers=>prevUsers.map(user=>emailsToBlock.includes(user.email)?{...user,status:'blocked'}:user));navigate('/login');}else{const response=await fetch('http://localhost:8081/users/block',{method:'POST',headers:{'Content-Type':'application/json',Authorization:`Bearer ${userToken}`},body:JSON.stringify({emails:emailsToBlock})});if(!response.ok){throw new Error('Failed to block users');}const result=await response.json();alert(result.message);setUsers(prevUsers=>prevUsers.map(user=>emailsToBlock.includes(user.email)?{...user,status:'blocked'}:user));}}catch(error){console.error('Error while blocking users:',error);}},[selectedUsersData,navigate,dataUser,userToken]);const handleUnblockUsers=async()=>{try{const response=await fetch('http://localhost:8081/users/unblock',{method:'POST',headers:{'Content-Type':'application/json',Authorization:`Bearer ${userToken}`},body:JSON.stringify({ids:selectedIds})});if(!response.ok){throw new Error('Failed to unblock users.');}setUsers(prevUsers=>prevUsers.map(user=>selectedIds.includes(user.id)?{...user,status:'active'}:user));fetchUsers();}catch(error){alert('Failed to unblock users. Please try again.');}};const handleDelete=useCallback(async()=>{const userEmail=dataUser===null||dataUser===void 0?void 0:dataUser.email;const selectedUsersEmails=selectedIds.map(id=>{var _users$find;return(_users$find=users.find(user=>user.id===id))===null||_users$find===void 0?void 0:_users$find.email;}).filter(email=>email!==undefined);const isCurrentUserDeleting=selectedUsersEmails.includes(userEmail||'');try{const response=await fetch('http://localhost:8081/users/delete',{method:'POST',headers:{'Content-Type':'application/json',Authorization:`Bearer ${userToken}`},body:JSON.stringify({ids:selectedIds})});if(!response.ok){throw new Error('Failed to delete users.');}const result=await response.json();alert(result.message);setUsers(result.users);setSelectedIds([]);setSelectAll(false);if(isCurrentUserDeleting){handleLogout();}}catch(error){console.error('Error while deleting users:',error);}},[selectedIds,users,dataUser,userToken,handleLogout]);const sortUsers=function(usersList,criteria){let ascending=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;const parseDate=value=>{if(value==='Never'||value===null){return 0;}const date=new Date(value);return Number.isNaN(date.getTime())?0:date.getTime();};return[...usersList].sort((a,b)=>{const valueA=parseDate(a[criteria]);const valueB=parseDate(b[criteria]);if(valueA<valueB)return ascending?-1:1;if(valueA>valueB)return ascending?1:-1;return 0;});};const sortedUsers=sortUsers(users,'lastLogin',false);return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-4\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"User Table\"}),/*#__PURE__*/_jsx(\"div\",{className:\"logout-container\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleLogout,children:\"Logout\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"toolbar mb-4\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-primary me-3\",onClick:handleBlockUsers,children:\"Block\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-outline-primary me-3\",onClick:handleUnblockUsers,title:\"Unblock Users\",\"aria-label\":\"Unblock\",children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-unlock\"})}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-outline-danger\",onClick:handleDelete,title:\"Delete Users\",\"aria-label\":\"Delete\",children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-trash\"})})]}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped table-bordered\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:selectAll,onChange:handleSelectAll,\"aria-label\":\"Select user with ID\"})}),/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Last Login\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:sortedUsers.map(user=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:selectedIds.includes(user.id),onChange:()=>handleCheckboxChange(user.id),\"aria-label\":`Select user with ID ${user.id}`})}),/*#__PURE__*/_jsx(\"td\",{children:user.id}),/*#__PURE__*/_jsx(\"td\",{children:user.name}),/*#__PURE__*/_jsx(\"td\",{children:user.email}),/*#__PURE__*/_jsx(\"td\",{children:user.lastLogin}),/*#__PURE__*/_jsx(\"td\",{children:user.status==='active'?'Active':'Blocked'})]},user.id))})]})]});};export default Home;","map":{"version":3,"names":["React","useCallback","useEffect","useState","useNavigate","fetchUsersData","useAuth","jsx","_jsx","jsxs","_jsxs","Home","users","setUsers","selectedIds","setSelectedIds","selectAll","setSelectAll","selectedUsersData","setSelectedUsersData","navigate","logout","userToken","setUserToken","dataUser","setDataUser","token","localStorage","getItem","userData","JSON","parse","fetchUsers","data","formattedData","map","user","lastLogin","date","Date","Number","isNaN","getTime","toLocaleString","error","console","handleLogout","removeItem","handleSelectAll","u","id","handleCheckboxChange","updatedSelectedIds","includes","filter","userId","length","updatedSelectedUsersData","find","undefined","handleBlockUsers","userEmail","email","emailsToBlock","response","fetch","method","headers","Authorization","body","stringify","emails","ok","Error","result","json","alert","message","prevUsers","status","handleUnblockUsers","ids","handleDelete","selectedUsersEmails","_users$find","isCurrentUserDeleting","sortUsers","usersList","criteria","ascending","arguments","parseDate","value","sort","a","b","valueA","valueB","sortedUsers","className","children","type","onClick","title","checked","onChange","name"],"sources":["/Users/mahnach04icloud.com/Desktop/Новая папка 2/Task4/client/src/components/home/Home.tsx"],"sourcesContent":["import React, { useCallback, useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport fetchUsersData from '../../utils/fetchUsers';\nimport { User } from '../../utils/interfaces';\nimport { useAuth } from '../AuthProvider/AuthProvider';\nimport './index.css';\n\nconst Home: React.FC = () => {\n  const [users, setUsers] = useState<User[]>([]);\n  const [selectedIds, setSelectedIds] = useState<number[]>([]);\n  const [selectAll, setSelectAll] = useState(false);\n  const [selectedUsersData, setSelectedUsersData] = useState<User[]>([]); // Состояние для выбранных пользователей\n  const navigate = useNavigate();\n  const { logout } = useAuth();\n  const [userToken, setUserToken] = useState<string | null>(null);\n  const [dataUser, setDataUser] = useState<User | null>(null);\n\n  useEffect(() => {\n    const token = localStorage.getItem('authToken');\n    const userData = localStorage.getItem('userData');\n    if (token) {\n      setUserToken(token);\n    }\n    if (userData) {\n      setDataUser(JSON.parse(userData));\n    }\n  }, []);\n\n  const fetchUsers = useCallback(async () => {\n    if (!userToken) return;\n\n    try {\n      const data = await fetchUsersData(userToken);\n\n      const formattedData = data.map((user: any) => {\n        let lastLogin = 'Never';\n        if (user.lastLogin) {\n          const date = new Date(user.lastLogin);\n          if (!Number.isNaN(date.getTime())) {\n            lastLogin = date.toLocaleString();\n          }\n        }\n\n        return { ...user, lastLogin };\n      });\n\n      setUsers(formattedData);\n    } catch (error) {\n      console.error(error);\n    }\n  }, [userToken]);\n\n  useEffect(() => {\n    if (userToken) {\n      fetchUsers();\n    }\n  }, [fetchUsers, userToken]);\n\n  const handleLogout = useCallback(() => {\n    logout();\n    localStorage.removeItem('userData');\n    navigate('/login');\n  }, [logout, navigate]);\n\n  const handleSelectAll = useCallback(() => {\n    if (selectAll) {\n      setSelectedIds([]);\n    } else {\n      setSelectedIds(users.map((u) => u.id));\n    }\n    setSelectAll(!selectAll);\n  }, [selectAll, users]);\n\n  const handleCheckboxChange = useCallback(\n    (id: number) => {\n      const updatedSelectedIds = selectedIds.includes(id)\n        ? selectedIds.filter((userId) => userId !== id)\n        : [...selectedIds, id];\n\n      setSelectedIds(updatedSelectedIds);\n      setSelectAll(updatedSelectedIds.length === users.length);\n\n      const updatedSelectedUsersData = updatedSelectedIds\n        .map((userId) => users.find((user) => user.id === userId))\n        .filter((user): user is User => user !== undefined);\n\n      setSelectedUsersData(updatedSelectedUsersData);\n    },\n    [selectedIds, users],\n  );\n\n  const handleBlockUsers = useCallback(async () => {\n    const userEmail = dataUser?.email;\n\n    if (!userEmail) {\n      return;\n    }\n\n    try {\n      const emailsToBlock = selectedUsersData.map((user) => user.email);\n\n      if (emailsToBlock.includes(userEmail)) {\n        const response = await fetch('http://localhost:8081/users/block', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            Authorization: `Bearer ${userToken}`,\n          },\n          body: JSON.stringify({ emails: emailsToBlock }),\n        });\n\n        if (!response.ok) {\n          throw new Error('Failed to block users');\n        }\n\n        const result = await response.json();\n        alert(result.message);\n        setUsers((prevUsers) =>\n          prevUsers.map((user) =>\n            emailsToBlock.includes(user.email)\n              ? { ...user, status: 'blocked' }\n              : user,\n          ),\n        );\n\n        navigate('/login');\n      } else {\n        const response = await fetch('http://localhost:8081/users/block', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            Authorization: `Bearer ${userToken}`,\n          },\n          body: JSON.stringify({ emails: emailsToBlock }),\n        });\n\n        if (!response.ok) {\n          throw new Error('Failed to block users');\n        }\n\n        const result = await response.json();\n        alert(result.message);\n\n        setUsers((prevUsers) =>\n          prevUsers.map((user) =>\n            emailsToBlock.includes(user.email)\n              ? { ...user, status: 'blocked' }\n              : user,\n          ),\n        );\n      }\n    } catch (error) {\n      console.error('Error while blocking users:', error);\n    }\n  }, [selectedUsersData, navigate, dataUser, userToken]);\n\n  const handleUnblockUsers = async () => {\n    try {\n      const response = await fetch('http://localhost:8081/users/unblock', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${userToken}`,\n        },\n        body: JSON.stringify({ ids: selectedIds }),\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to unblock users.');\n      }\n\n      setUsers((prevUsers) =>\n        prevUsers.map((user) =>\n          selectedIds.includes(user.id) ? { ...user, status: 'active' } : user,\n        ),\n      );\n\n      fetchUsers();\n    } catch (error) {\n      alert('Failed to unblock users. Please try again.');\n    }\n  };\n\n  const handleDelete = useCallback(async () => {\n    const userEmail = dataUser?.email;\n    const selectedUsersEmails = selectedIds\n      .map((id) => users.find((user) => user.id === id)?.email)\n      .filter((email): email is string => email !== undefined);\n\n    const isCurrentUserDeleting = selectedUsersEmails.includes(userEmail || '');\n\n    try {\n      const response = await fetch('http://localhost:8081/users/delete', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${userToken}`,\n        },\n        body: JSON.stringify({ ids: selectedIds }),\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to delete users.');\n      }\n\n      const result = await response.json();\n      alert(result.message);\n\n      setUsers(result.users);\n      setSelectedIds([]);\n      setSelectAll(false);\n\n      if (isCurrentUserDeleting) {\n        handleLogout();\n      }\n    } catch (error) {\n      console.error('Error while deleting users:', error);\n    }\n  }, [selectedIds, users, dataUser, userToken, handleLogout]);\n\n  const sortUsers = (\n    usersList: User[],\n    criteria: 'lastLogin',\n    ascending = true,\n  ): User[] => {\n    const parseDate = (value: string | null | 'Never'): number => {\n      if (value === 'Never' || value === null) {\n        return 0;\n      }\n      const date = new Date(value);\n      return Number.isNaN(date.getTime()) ? 0 : date.getTime();\n    };\n\n    return [...usersList].sort((a, b) => {\n      const valueA = parseDate(a[criteria]);\n      const valueB = parseDate(b[criteria]);\n\n      if (valueA < valueB) return ascending ? -1 : 1;\n      if (valueA > valueB) return ascending ? 1 : -1;\n      return 0;\n    });\n  };\n\n  const sortedUsers = sortUsers(users, 'lastLogin', false);\n\n  return (\n    <div className=\"container mt-4\">\n      <h1>User Table</h1>\n      <div className=\"logout-container\">\n        <button type=\"button\" onClick={handleLogout}>\n          Logout\n        </button>\n      </div>\n      <div className=\"toolbar mb-4\">\n        <button\n          type=\"button\"\n          className=\"btn btn-primary me-3\"\n          onClick={handleBlockUsers}\n        >\n          Block\n        </button>\n        <button\n          type=\"button\"\n          className=\"btn btn-outline-primary me-3\"\n          onClick={handleUnblockUsers}\n          title=\"Unblock Users\"\n          aria-label=\"Unblock\"\n        >\n          <i className=\"bi bi-unlock\" />\n        </button>\n        <button\n          type=\"button\"\n          className=\"btn btn-outline-danger\"\n          onClick={handleDelete}\n          title=\"Delete Users\"\n          aria-label=\"Delete\"\n        >\n          <i className=\"bi bi-trash\" />\n        </button>\n      </div>\n      <table className=\"table table-striped table-bordered\">\n        <thead>\n          <tr>\n            <th>\n              <input\n                type=\"checkbox\"\n                checked={selectAll}\n                onChange={handleSelectAll}\n                aria-label=\"Select user with ID\"\n              />\n            </th>\n            <th>ID</th>\n            <th>Name</th>\n            <th>Email</th>\n            <th>Last Login</th>\n            <th>Status</th>\n          </tr>\n        </thead>\n        <tbody>\n          {sortedUsers.map((user) => (\n            <tr key={user.id}>\n              <td>\n                <input\n                  type=\"checkbox\"\n                  checked={selectedIds.includes(user.id)}\n                  onChange={() => handleCheckboxChange(user.id)}\n                  aria-label={`Select user with ID ${user.id}`}\n                />\n              </td>\n              <td>{user.id}</td>\n              <td>{user.name}</td>\n              <td>{user.email}</td>\n              <td>{user.lastLogin}</td>\n              <td>{user.status === 'active' ? 'Active' : 'Blocked'}</td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n\nexport default Home;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}